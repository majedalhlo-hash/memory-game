<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø°ÙƒÙŠØ© Ø§Ù„Ø¯ÙŠÙ†ÙŠØ© â€“ Ù…Ø±Ø§Ø­Ù„</title>
<style>
body { font-family: Arial, sans-serif; background: #fdf6e3; text-align: center; }
h2 { color: #2c3e50; margin-top: 20px; }
#instructions { margin: 10px auto; font-size: 18px; color: #34495e; }
#author { margin-top: 10px; font-size: 16px; color: #7f8c8d; }
.grid { display: grid; gap: 15px; justify-content: center; margin-top: 20px; }
.card { width: 120px; height: 120px; background: #3498db; color: white; 
       display: flex; justify-content: center; align-items: center; font-size: 16px;
       cursor: pointer; border-radius: 10px; user-select: none; transition: transform 0.3s; }
.card.correct { background: #2ecc71; transform: scale(1.1); }
.card.wrong { background: #e74c3c; transform: scale(0.9); }
#attempts { margin-top: 15px; font-size: 18px; color: #2c3e50; }
#level { margin-top: 5px; font-size: 18px; color: #2c3e50; }
</style>
</head>
<body>
<h2>Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø°ÙƒÙŠØ© Ø§Ù„Ø¯ÙŠÙ†ÙŠØ©</h2>
<div id="instructions">Ø§Ù‚Ù„Ø¨ Ø¨Ø·Ø§Ù‚ØªÙŠÙ† Ù„Ø¥ÙŠØ¬Ø§Ø¯ Ø§Ù„Ø²ÙˆØ¬ Ø§Ù„Ù…ØªØ·Ø§Ø¨Ù‚. Ø£ÙƒÙ…Ù„ ÙƒÙ„ Ù…Ø±Ø­Ù„Ø© Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„ØªØ§Ù„ÙŠØ©.</div>
<div id="author">Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø­Ø§Ù…ÙŠ Ù…Ø§Ø¬Ø¯ Ø§Ù„Ø­Ù„Ùˆ</div>
<div id="level">Ø§Ù„Ù…Ø±Ø­Ù„Ø©: 1</div>
<div class="grid" id="game"></div>
<div id="attempts">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª: 0</div>

<script>
const allCards = [
  {text: "Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±", icon: "ğŸŒ™"},
  {text: "Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡", icon: "ğŸŒ¸"},
  {text: "Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡", icon: "ğŸ’§"},
  {text: "Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡", icon: "â­"},
  {text: "Ø§Ù„Ø±Ø­Ù…Ù†", icon: "ğŸŒ"},
  {text: "Ø§Ù„Ø±Ø­ÙŠÙ…", icon: "â˜ï¸"},
  {text: "Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡", icon: "ğŸ•Œ"},
  {text: "Ø¥Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡", icon: "ğŸ•Šï¸"}
];

let currentLevel = 1;
let attempts = 0;
let firstCard = null, secondCard = null, lock = false;

const game = document.getElementById("game");
const attemptsDisplay = document.getElementById("attempts");
const levelDisplay = document.getElementById("level");

function startLevel(level) {
  attempts = 0;
  attemptsDisplay.textContent = "Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª: " + attempts;
  levelDisplay.textContent = "Ø§Ù„Ù…Ø±Ø­Ù„Ø©: " + level;
  game.innerHTML = "";

  let numPairs;
  if(level === 1) numPairs = 4;
  else if(level === 2) numPairs = 6;
  else numPairs = 8;

  let gameCards = allCards.slice(0, numPairs).flatMap(c => [{...c},{...c}]);
  gameCards.sort(() => 0.5 - Math.random());

  gameCards.forEach((cardData) => {
    const card = document.createElement("div");
    card.classList.add("card");
    card.dataset.text = cardData.text;
    card.dataset.icon = cardData.icon;
    card.innerHTML = "?";
    card.addEventListener("click", () => flipCard(card));
    game.appendChild(card);
  });
}

function flipCard(card) {
  if(lock || card.innerHTML !== "?") return;
  card.innerHTML = card.dataset.icon + "<br>" + card.dataset.text;

  if(!firstCard) {
    firstCard = card;
  } else {
    secondCard = card;
    lock = true;
    attempts++;
    attemptsDisplay.textContent = "Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª: " + attempts;

    if(firstCard.dataset.text === secondCard.dataset.text) {
      firstCard.classList.add("correct");
      secondCard.classList.add("correct");
      firstCard = secondCard = null;
      lock = false;
      checkWin();
    } else {
      firstCard.classList.add("wrong");
      secondCard.classList.add("wrong");
      setTimeout(() => {
        firstCard.innerHTML = "?";
        secondCard.innerHTML = "?";
        firstCard.classList.remove("wrong");
        secondCard.classList.remove("wrong");
        firstCard = secondCard = null;
        lock = false;
      }, 1500);
    }
  }
}

function checkWin() {
  const matched = document.querySelectorAll(".card.correct");
  const numPairs = game.querySelectorAll(".card").length / 2;
  if(matched.length === numPairs * 2) {
    if(currentLevel < 3) {
      currentLevel++;
      alert("Ù…Ø¨Ø±ÙˆÙƒ! Ø§Ù†ØªÙ‚Ù„Øª Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø±Ø­Ù„Ø© " + currentLevel);
      startLevel(currentLevel);
    } else {
      setTimeout(() => alert("Ù…Ø¨Ø±ÙˆÙƒ! Ø£ÙƒÙ…Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø¨Ø¹Ø¯ " + attempts + " Ù…Ø­Ø§ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©."), 100);
    }
  }
}

// Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
startLevel(currentLevel);
</script>
</body>
</html>
